--- 
title: "Create, Publish, and Analyze Personal Websites Using R and RStudio"
subtitle: "A digital handbook with step-by-step instructions for creating personal websites, blogs, and professional portfolios using R, RStudio, and other freely available technologies including GitHub, Hugo, Netlify, and Google Analytics"
author: "Danny Morris"
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
documentclass: book
bibliography: [book.bib, packages.bib]
biblio-style: apalike
link-citations: yes
description: "A step-by-step guide for creating, publishing, and analyzing your personal website using R, RStudio, and other open source technologies including GitHub, Netlify, and Google Analytics."
---

# Introduction

![](https://i.imgur.com/2WgBlJfl.png)

## About this book

As a data scientist with a creative spirit, I love writing and sharing content. Several years ago, I published my first personal website, [Abnormal Distributions](https://abndistro.com/). Getting started was hard. It took me months to learn new technologies and to get comfortable operating this simple little blog. Since then, Abnormal Distributions has served over 50,000 page views and 20,000 users. I paste links to it on my resumes, social profiles, and networking introductions. I constantly get messages from aspiring data scientists that essentially read, "Hey, saw a post on your website about [insert topic]. Would love to learn more!" Recruiters on LinkedIn often point to my website as the reason for connecting with me regarding a job opportunity. Abnormal Distributions turned out to be a wonderful investment of time as it helped spark my creativity, deepen my subject matter expertise through writing, and connect me with new people and opportunities.

**My goal with this book is to help you launch your own personal website, blog, or project portfolio as quickly and painlessly as possible.** You will learn the same steps that I take to create, design, publish, and analyze websites using R, RStudio, and other freely available tools including GitHub, Hugo, Netlify, and Google Analytics. All of the tools presented in this book are free to download or available through free accounts. No prior experience in web development is needed to be successful with this book.

## Inspiring examples

Below are some examples of personal websites, blogs, and portfolios that may inspire you as you begin to think about the direction of your own website.

- [Abnormal Distributions](https://abndistro.com) - My personal website and blog. Ridiculously simple and straightforward. Designed for sharing articles, tutorials, and project summaries. Based on the [Hugo Xmin theme](https://themes.gohugo.io/hugo-xmin/).

- [R-Ladies NYC](http://www.rladiesnyc.org/) - Organization website dedicated to promoting gender diversity in the R community. Clean, modern layout. Great design for promoting groups, teams, projects, and events.

- [Jenna Allen](https://www.jennadallen.com/) - Nice all-around personal website authored by Jenna Allen with a blog and a resume.

- [Mike Mahoney](https://www.mm218.dev/) - Academic bio authored by Mike Mahoney. Simple, clean design for promoting academic achievements.

- [Variance Explained](http://varianceexplained.org/) - Personal website and blog authored by David Robinson. Crisp, clean layout.

## Websites as marketing tools

Having your own website featuring your unique voice and content is a great way to market yourself and your work to a variety of audiences. Below is a list of ways to use websites as marketing tools.

- Post links to your website on your LinkedIn profile including your headline, summary, and Featured section.

- Author LinkedIn posts and provide relevant links to your website.

- Post links to your website on your resume in highly visible areas such as your contact information or list of personal projects.

- If there is a job you really want or a company you would love to work for, create a personalized website with hyperfocused content and share it with the recruiter, hiring manager, current employees, and anyone else who might be impressed.

- If your website features a blog, optimize it for SEO (search engine optimization) and receive an increase in organic traffic from search engines.

## FAQ

**What is the financial cost to create, publish, and analyze websites described in this book?**

Absolutely nothing, unless you elect to purchase custom domains name which are typically $1 USD per month. 

**Do I need a background in web development to use this book successfully?**

Absolutely not. The website development approach described in this book relies on blogdown and Hugo to generate static websites, meaning the entire website is just a series of HTML, CSS, JavaScript, and static content such as images and logos. A web browser is the only thing required to render and use static websites. Blogdown makes it super easy to create and organize static files, while Hugo does the heavy lifting of converting your files into a website. Hugo also gives you access to a wide range of [beautiful, free, pre-built design themes]((https://themes.gohugo.io/)) designed by expert Hugo developers. All in all, you just need to focus on writing great content and making simple design tweaks to reflect your personal style.

**Do I need to know R to build websites described in this book?**

Not at all. You could build the types of websites described in this book without knowing or writing a single line of R code. These types of websites just make it easy to author content featuring output (e.g. tables, graphs) from R code and other programming languages supported by R Markdown including Python and SQL. If you don't know R, a website could be a great way to learn it and document your journey!

**What is the role of RStudio in the process of building websites described in this book?**

RStudio is a free desktop application where all of your website development takes place. RStudio provides a simple interface for managing your website projects and the supporting materials including content, images, and code. RStudio also contains a "Viewer" pane, which will display your webiste locally and update in real-time as you make changes to your website. This is incredibly handy for rapidly testing ideas and inspecting the results.

**Can I author content using other programming languages?**

Yes. Content can be written in either plain Markdown documents or R Markdown documents which include support for R, Python, and SQL.

**Can I publish my website behind a custom domain name?**

Yes. See the chapter on [Deploying on Netlify](#deploy).

<!--chapter:end:index.Rmd-->

# Complete end-to-end example

This chapter walks you through all of the high-level steps to create, publish, and analyze your very own personal website as quickly as possible, saving the subtle details for later chapters. If you work through the steps in this chapter, you will end up with a complete, fully functional website that you can improve upon gradually.

Continue reading to learn more, or [watch the video](https://youtu.be/nr72YO1vOjQ) instead.

## How it works

The steps to create, publish, and analyze your very own personal website include:

1. Install free software and create free accounts
2. Generate a basic website using the blogdown R package
3. Push the website files to GitHub
4. Deploy the website on Netlify
5. Set up Google Analytics to capture traffic to your site
6. Use the `googleAnalyticsR` R package to analyze traffic

## Install software

Start off by installing these free, open source tools if you haven’t already. My recommendation is to download the latest versions, which at the time of this writing are R 4.0, RStudio 1.4, Git 2.31.1, and Hugo 0.82.

- [R](https://cran.rstudio.com/)
- [RStudio](https://www.rstudio.com/products/rstudio/download/#download)
- [Git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git)

## Create accounts {#create-accounts}

Create free accounts with GitHub, Netlify, Google Analytics, and Formspree(optional). Start with GitHub first, then use your GitHub registration to sign up for a Netlify account. To sign up for Google Analytics, click the link below and locate “Start for free” on the landing page. Formspree is optional yet recommended if you want to embed contact forms on your website.

- [GitHub](https://github.com/)
- [Netlify](https://app.netlify.com/)
- [Google Analytics](https://marketingplatform.google.com/about/analytics/)
- (Optional) [Formspree](https://formspree.io/register)

## Generate a blogdown website {#create-new-blogdown}

[blogdown](https://bookdown.org/yihui/blogdown/) makes it super easy to generate a website based on the [Hugo](https://gohugo.io/) framework. Follow these steps to create a website on your local machine.

1. Launch RStudio and install the blogdown package by running `install.packages("blogdown")`.

2. Create a new RStudio Project by going to File > New Project > New Directory > Website using blogdown. [Example](https://i.imgur.com/eDg7V2k.png).

3. Using the New Project Wizard, generate a website using the [Hugo Anatole theme](https://themes.gohugo.io/anatole/) by defining `Hugo theme: lxndrblz/anatole` in the configuration. Click Create Project to generate the website. [Example](https://i.imgur.com/lkD1ZlU.png).

4. Confirm that everything is working properly by running `blogdown::serve_site()` in the R console. A local, live, and fully functional preview of your website will appear in the Viewer pane in RStudio. [Example](https://i.imgur.com/oxZgeqM.png).

## Push the website to GitHub

Once your site is working locally, the next steps are to create a remote GitHub repository for your website, configure a local Git repository, and push your website files from your local environment to the remote repository. Follow these steps to create a remote GitHub repository and sync it to your local Git repository.

1. Create a remote GitHub repository by signing in to [GitHub](https://github.com/) and clicking "New" in the Repositories section. Configure the repository accordingly, then click Create repository. [Example](https://i.imgur.com/LW2AhCr.png)

2. Create a local Git repository and associate it with the GitHub repository created in the previous step. To do this, launch Git from the command line (e.g. Git Bash on Windows, Terminal on Mac/Linux) and running the following Git commands. 

```
# Change the directory to your website's root folder
cd path/to/your/website/files

# initialize local Git repo
git init

# add your website files to the local Git repo
git add --all

# commit your website files to the local Git repo
git commit -m "first commit"

# point the local Git repo to the remote GitHub repo
# change your_username and your_repo to your GitHub username and repo name
git remote add origin https://github.com/your_username/your_repo.git

# push your files to GitHub
git push -u origin master
```

## Deploy the website on Netlify

Now that your website files are stored in your GitHub repository, use Netlify to deploy your website. Netlify will deploy your website directly from your GitHub repository. Any time you push new or edited content to the GitHub repo, Netlify will automatically deploy a new version of your website. This is known as continuous deployment and is key to rapid iteration. Follow these steps to deploy your website on Netlify.

1. Log in to Netlify account using your GitHub registration and click "New site from Git".

2. Select GitHub as the Continuous Deployment provider, then choose the Github repository you configured in the previous steps.

3. Leave the site settings alone and click "Deploy site" to publish your website. [Example](https://i.imgur.com/K4wmIJB.png)

4. After a few seconds, your webiste will be deployed on Netlify. To view your website, return to the Site Overview section and locate the domain name randomly generated by Netlify. [Example](https://i.imgur.com/8TV9NQ1.png). Netlify domains tend to look something like this - https://jovial-roentgen-f2a53c.netlify.app/. To change this, go to Site settings > Change site name.

## Set up Google Analytics

The final step is to set up Google Analytics to analyze traffic to your website. If you haven't already, be sure to [create a free account](#create-accounts). Follow these steps to link Google Analytics to your website.

1. Sign in to Google Analytics and navigate to Admin > Create Account. [Example](https://i.imgur.com/QRTa07k.png)

2. Under Account setup, provide an appropriate name (e.g. my-example-site) and configure the Account Data Sharing Settings to your liking. Click "Next".

3. Under Property setup, provide an appropriate name (e.g. example-site-property). 

4. Under Property setup, click on "Show advanced options" to create a Universal Analytics property. For the Website URL, provide the URL provided by Netlify when you first deployed your website. Click "Next". [Example](https://i.imgur.com/aYeAANl.png)

5. Under About you business, configure the settings to your liking. Click "Next" and accept the terms of service.

6. Locate and copy the Tracking Code by returning the Google Analytics landing page and navigating to the Admin console. Select the Account and Property that were created in the previous steps. Under Property, click on Tracking Info > Tracking Code. Copy the Tracking ID, which should appear in the form of UA-XXXXXXXXX-1. [Example](https://i.imgur.com/qcyaVBD.png)

7. Return to your RStudio Project where you are developing your website. Open the file `config.yaml` in the main directory and locate the `googleAnalytics:` parameter. Paste your Google Analytics Tracking ID here, e.g. `googleAnalytics: 'UA-XXXXXXXXX-1'`. [Example](https://i.imgur.com/xgN24ah.png)

8. To complete the integration, push your updates to your GitHub repository using the following Git syntax.

```
git add --all
git commit -m "added google analytics tracking code"
git push origin master
```

Netlify will detect that your GitHub repository has been updated, and it will deploy a new version of your website containing Google Analytics integration.

## Analyze Google Analytics data

[googleAnalyticsR](https://code.markedmondson.me/googleAnalyticsR/) is an R package for querying Google Analytics data. This topic is discussed in more detail in the chapter [Analyzing traffic with Google Analytics](#google-analytics).

The R code below does the following:

- Load R packages for collecting and analyzing Google Analytics data
- Authenticate Google Analytics account
- List accounts and properties within your Google Analytics account, such as the ones associated with your newly created website
- Return a query of users by geographic location 
- Plot a map of users by geographic location

**Note:** The demo website created in the previous sections is not used in the following analysis because it has received no website traffic thus far. My personal website, Abnormal Distributions, is used instead.

```{r, message=F, warning=F}
# R packages
library(googleAnalyticsR)
library(dplyr)
library(leaflet)

# Authenticate your Google Analytics account
ga_auth(email = "usc00@hotmail.com")

# List your Google Analytics accounts
ga_accounts <- ga_account_list()

# Obtain the "view Id" associated with your website account
view_id <- ga_accounts %>%
  filter(accountName == "abndistro", webPropertyName == "Abnormal Distributions") %>%
  pull(viewId)

# Query geographic location of website users
users_location <- google_analytics(
  viewId = view_id,
  date_range = c("2019-01-01", "2020-12-31"),
  metrics = "users",
  dimensions = c("latitude", "longitude"),
  anti_sample = T
) %>%
  as_tibble() %>%
  mutate_at(vars(latitude, longitude), list(as.numeric))

# Plot map of website users by location
users_location %>%
  leaflet() %>% 
  addTiles() %>%
  addCircleMarkers(
    lng = ~longitude,
    lat = ~latitude,
    radius = ~log(users),
    stroke = FALSE, 
    fillOpacity = 0.5
  )
```

## Closing thoughts

This chapter covers the basics steps to create, publish, and analyze your very own website. The demo website published in this chapter uses the [Hugo Anatole theme](https://themes.gohugo.io/anatole/ as the basis for the overall design and appearance. Keep in mind their are dozens of designs to choose from when designing your own website.

<!--chapter:end:end-to-end.Rmd-->

# Choosing the layout and style {#style}

This chapter provides some guidance on choosing a website layout and style that reflects your personal style and achieves your goals.

## How it works

Hugo, the static website generator used by blogdown, is supported by an active developer community that has contributed dozens of [beautiful, free, pre-built design themes]((https://themes.gohugo.io/)) for you to use in your website project. Hugo themes are professionally designed and convenient, but you will need to make at least a few simple tweaks to the default theme to give your website your own personal touch. Spend some time browsing the Hugo themes to see what is out there. To use a theme, locate the theme's GitHub URL. Then, simply edit the `Hugo theme:` parameter when [configuring a new blogdown website](https://i.imgur.com/Io2Bzw7.png). These steps are described in details in the following sections.

## Word of caution

Choosing the layout and style is a significant decision. It is an opportunity to be creative and artistic, but it can be a major pitfall if you're not careful. 

The key to creating an attractive, high-performing, and sustainable website is to select a Hugo theme that contains 90% or more of the look, feel, and functionality you desire for your website. The remaining 10% of your website design can come from basic design tweaks such as colors, fonts, images, and adding/removing basic features. Unless you are (or want to be) a front end Hugo web developer, attempting too many changes to your favorite Hugo theme increases your risk of making poor decision decisions and negatively affecting your website's overall look and performance.

## Selecting a Hugo theme {#select-hugo-theme}

The look and feel of your website is largely determined by which [Hugo theme]((https://themes.gohugo.io/)) you choose. Hugo themes are created by experts in Hugo and front end web design. Spend some times browsing the list of themes and checkout the demo sites ([example](https://themes.gohugo.io/hugo-universal-theme/)). If you see a theme you like, try it out by [creating a new site using your chosen theme](#create-site-with-theme). Otherwise, continue reading for recommendations regarding themes.

### Recommended themes

Depending on your goals, you may be more or less restricted to certain Hugo themes. For example, if you intend to create content using R Markdown documents that feature code highlighting, tables, and interactive visualizations, then you may find that certain themes do a poor job of rendering these types of output. On the other hand, if you intend to create basic content using plain Markdown documents, you may not experience any content rendering issues with any of the themes you consider. Either way, you'll likely go through a few rounds of trial and error before you settle on a theme that meets most or all of your needs.

**Tip:** When browsing Hugo themes, pay attention to the date on which the theme was most recently updated. [Example](https://i.imgur.com/fp7WH6s.png). It's best to avoid themes that have not been updated in the last few months or so.

Here are some themes that I recommend based on performance, content rendering, and personal style preference. Note that this is not an exhaustive list of all themes that I would recommend.

#### Recommended themes for content written in R Markdown {-}

- [Cupper](https://themes.gohugo.io/cupper-hugo-theme/) - Simple, clean, readable, minimalist. Great for portfolios and writing.
- [Tranquilpeak](https://themes.gohugo.io/hugo-tranquilpeak-theme/) - Modern, clean layout. Easy to customize and very readable. Great for personal websites, blogs, and portfolios.
- [Anatole](https://themes.gohugo.io/anatole/) - Similar to Tranquilpeak with a more sophisticated About page.
- [Eureka](https://themes.gohugo.io/hugo-eureka/) - Clean, professional layout. Easy to customize. Great for portfolios and professional landing pages.

#### Recommended themes for content written in standard markdown {-}

- [Hargo](https://themes.gohugo.io/hargo-hugo-ecommerce-theme/) and [Vex](https://themes.gohugo.io/vex-hugo/) - Modern e-commerce themes for advertising and selling products
- [Doks](https://themes.gohugo.io/doks/) - Modern documentation theme
- [Bigspring](https://themes.gohugo.io/bigspring-hugo-startup-theme/) - Modern design for small businesses offering a particular service
- [Pico](https://themes.gohugo.io/hugo-theme-pico/) - Modern design for promoting yourself and your work
- [Hugo Product Launch](https://themes.gohugo.io/hugo-product-launch/) - Simple layout for promoting an upcoming product
- [Hugo Scroll](https://themes.gohugo.io/hugo-scroll/) - Simple, highly visual layout for promoting your services or expertise

## Generating websites from themes {#create-site-with-theme}

To generate a blogdown website from a chosen theme, follow these steps:

1. Browse the list of [Hugo themes](https://themes.gohugo.io/). Click on a theme you like, then click "Demo" to explore a complete example.

2. Once you find something you really like, click "Download" on the theme homepage to be taken to the source code in GitHub. [Example](https://i.imgur.com/ld35gNP.png).

3. To create a website with your chosen theme, copy the user/theme-name in the GitHub URL. For example, if the source code is located at https://github.com/devcows/hugo-universal-theme, you'll want to copy `devcows/hugo-universal-theme`.

4. Follow the steps to [generate a website](#generate) described in the previous chapter. This time, use the information from step 3 to edit the `Hugo theme:` parameter. For example, replace `yihui/hugo-lithium` with `devcows/hugo-universal-theme` to use your chosen theme.

## Editing your theme

This topic is discussed in detail in the next chapter, [Curating the website features](#curate-features). In all likelihood, you will want to edit some aspects of your preferred Hugo theme to alter the look, feel, and functionality of your website. It's important to note that theme developers do not follow the exact same approach as all other developers when designing a theme. Therefore, there is no universal approach to editing themes. There are, however, some common approaches to editing basic characteristics such as colors, font styles, logos, sections, contact forms, and so on. Those will be described in the next chapter.

<!--chapter:end:choosing-a-design.Rmd-->

# Generating a basic website {#generate}

This chapter teaches you how to generate an initial website, the first and most influential step in your journey to owning your very own website. If you haven't already, start by completing the following prerequisites:

- [Install R](https://cran.rstudio.com/)
- [Install RStudio](https://www.rstudio.com/products/rstudio/download/#download)

My recommendation is to download the latest versions, which at the time of this writing are R 4.0 and RStudio 1.4.

## How it works

The R package [blogdown](https://bookdown.org/yihui/blogdown/) in tandem with RStudio make it incredibly simple to generate your initial website. Under the hood, blogdown uses [Hugo](https://gohugo.io/) to generate static websites. Hugo websites are fast and developer-friendly, and Hugo developers have contributed a wide range of [beautiful, free, pre-built design themes]((https://themes.gohugo.io/)) for you to use in your website project. 

## Use case

This chapter, and all subsequent chapters, will build upon the default [Hugo Tranquilpeak theme](https://themes.gohugo.io/hugo-tranquilpeak-theme/). The finished product can be seen here - https://r4sites-transquilpeak.netlify.app/

## Generate your site in three steps {#generate-site}

Follow these steps to generate a Hugo website using R and RStudio:

1. Launch RStudio and install the blogdown package by running `install.packages("blogdown")` in the R console.

2. Create a new RStudio Project by going to File > New Project > New Directory > Website using blogdown. [Example](https://i.imgur.com/eDg7V2k.png)

3. Configure the website to use the Tranquilpeak theme, as show in this [example configuration](https://i.imgur.com/O8qGCm1.png). Make sure to set the `Hugo theme:` parameter to `kakawait/hugo-tranquilpeak-theme`. The topic of theme selection is discussed in the next chapter. Finally, click Create Project to generate the initial website.

## Serving the website locally {#serve-site}

The blogdown package includes a handy function called `serve_site()`. Running this function in the R console with your website's RStudio Project loaded will render a local copy of your entire website in the RStudio "Viewer" pane, as shown in this [example](https://i.imgur.com/oxZgeqM.png).

The best part of this feature is that as you make and save changes to your website files, the local rendering will update in real-time and reflect your changes. This feature of blogdown, known as LiveReload, enables rapid trial and error on your local machine without ever having to leave the RStudio environment.

<!--chapter:end:generating-your-website.Rmd-->

# Curating the look, feel, and features {#curate-features}

This chapter teaches you how to edit the look and feel of your website and how to personalize certain features including logos, page navigation, contact forms, and social media links.

## How it works

Recall that the types of static websites described in this book are simply a collection of text files including Markdown, HTML, CSS, and Javascript file types that Hugo compiles into a website. Therefore, changes to the look, feel, and features of your website are done simply by editing the relevant files and folders that make up your website.

#### Editing the look and feel with CSS {-}

If you are not familiar with CSS (Cascading Style Sheets), take a look at [this CSS stylesheet](https://github.com/dannymorris/r4sites-demo-anatole/blob/master/themes/anatole/assets/css/style.css). While HTML defines the general layout of a webpage, CSS is used to control the appearance of an HTML webpage and its elements including font styles, colors, buttons and links, positioning and dimensions of images, and so on. If you intend to alter the look and feel of your website, you will likely be spending most of your time editing your website's primary CSS files.

To learn more about CSS, visit [w3schools](https://www.w3schools.com/css/) for tutorials and read about using the [Inspect tool](#inspect-tool) in your browser.

#### Editing features related to content and navigation {-}

Personal websites and blogs typically have the following navigation pages and content features: Home, Blog, Projects, About Me, and Contact. The [Anatole demo website](https://r4sites-anatole.netlify.app/) has a similar structure with some minor differences.

The presence or absence of content and navigation pages is dependent upon the existance of folders and files located in the `content` folder in the main website directory. For example, the [Anatole demo website](https://r4sites-anatole.netlify.app/) contains navigation links to pages titled Home, Posts, About, and Contact. These features have supporting files in the `content` folder in the main website directory, as shown in the [website's content folder](https://github.com/dannymorris/r4sites-demo/tree/master/content/english).

To **remove content and features**, you can do one of the following: delete the relevant folder in the `content` directory (e.g. delete the `posts` folder), or (recommended) edit the `config.yaml` file to explicity define the content and features you want on your site, as shown in [this example]().

## Tips for working efficiently

#### Using the browser's Inspect tool {-#inspect-tool}

The "Inspect" tool in your browser is an essential tool for experimenting with changes to CSS and HTML directly in the browser. Using the Inspect tool results in temporary changes, and when the browser is refreshed the original properties are restored. Access this tool in the browser by right-clicking on any page element you want to edit (e.g. images, text, links, buttons) and click on "Inspect", as shown in this [example](https://i.imgur.com/0h0H4VW.png)

Practice using the Inspect tool with these examples:

1. Visit [Google](https://www.google.com/) and edit the "Google Search" button by changing the background color and font color. [Watch the video demonstration on YouTube](https://youtu.be/6tR1u7UxmgU). After changing the background color and font color of the search button, feel free to experiment with changing other properties as well.

2. Vist [this question on Stack Overflow](https://stackoverflow.com/questions/45851032/r-for-data-science-book-wickham-cannot-reproduce-example) and practice editing image dimensions, colors of links and bold text, and code snippets. [Watch the video demonstration on YouTube](https://youtu.be/pJd0dWU70gk)

#### Serve the site locally {-}

Once you have generated a website using the Anatole theme, run `blogdown::serve_site()` in the R console from within your RStudio Project to render a live, local copy of the website. To learn about serving the site locally, read [this section](#serve-site).

## Use case

To keep things simple, we will focus on a use case that revolves around tweaking the [Anatole](https://themes.gohugo.io/anatole/) theme. To begin, follow the instructions outlined in [Generating websites from themes](#create-site-with-theme). Then, follow along with the steps below. The theme's demo website can be found here - https://themes.gohugo.io/theme/anatole/. The finished product resulting from the following steps can be found here - https://r4sites-anatole.netlify.app/.

## Title and description

The title of the Anatole demo website is "My Blog". To change this to something more personal, navigate to `config/_default/languages.toml` and edit the `title` parameter.  [Example](https://github.com/dannymorris/r4sites-demo-anatole/blob/master/config/_default/languages.toml#L2).

## Logos and profile images

The profile image is the main image on the homepage with a circular border. To edit this, navigate to `static/images/` and replace `profile.jpg` with your own image ([example](https://github.com/dannymorris/r4sites-demo-anatole/tree/master/static/images)). Keep the file named `profile.jpg` so the theme will recognize your image. 

If your image appears too wide/narrow or too tall/short, navigate to `themes/anatole/assets/css/style.css` and edit the CSS properties. For this theme, you will need to edit the CSS properties [here](https://github.com/dannymorris/anatole-site/blob/a114905a32be5619a5ecd3ab48d81d8220b14ed3/themes/anatole/assets/css/style.css#L901-L904) for narrow screen devices and [here](https://github.com/dannymorris/anatole-site/blob/master/themes/anatole/assets/css/style.css#L291-L295) for wide
screen devices.

## Favicons

Navigate to `static/favicons/` and replace `favicon.ico` with your own favicon. The favicon is the tiny image that appears in the web browser tab for your website. To create a favicon from an image, visit https://favicon.io/favicon-converter/. Keep the file named `favicon.ico` in the same folder.

## Fonts

If you don't like the default font, you can easily change it. For example, to use the Google Font [Quicksand](https://fonts.google.com/specimen/Quicksand) insert [this line of code](https://github.com/dannymorris/anatole-site/blob/master/themes/anatole/layouts/partials/head.html#L114-L116) in the `themes/anatole/layouts/partials/head.html` file. Then, navigate to `themes/anatole/assets/css/style.css` and change the font property in the `body` element [(example)](https://github.com/dannymorris/anatole-site/blob/master/themes/anatole/assets/css/style.css#L44-L51). You can also change basic font properties (e.g. size, color), but you will have to know what CSS class to change. Examples include `p`([example](https://github.com/dannymorris/anatole-site/blob/a114905a32be5619a5ecd3ab48d81d8220b14ed3/themes/anatole/assets/css/style.css#L53-L57)), `.page-top .nav`([example](https://github.com/dannymorris/anatole-site/blob/master/themes/anatole/assets/css/style.css#L198-L205)), and `.page-top .nav a`([example](https://github.com/dannymorris/anatole-site/blob/a114905a32be5619a5ecd3ab48d81d8220b14ed3/themes/anatole/assets/css/style.css#L213-L215)).

## Colors

## Managing pages and sections

## Contact forms

## Foreign languages

7. **(optional) Remove all content supporting a language translation**. By default, the Anatole theme supports an Arabic language translation. To remove all content supporting this translation, delete the file `config/_default/menus.ar.toml`, edit the file `config/_default/languages.toml` by removing all Arabic language parameters ([example](https://github.com/dannymorris/anatole-site/blob/master/config/_default/languages.toml)), then delete the folder `content/arabic/` and all of its contents.

## Social media links

Navigate to config/_default/params.toml and edit the links to your social medial accounts beginning on line 40. Example

## Closing thoughts on themes

Relying on themes is the quickest way to launch a professional website. Editing the look and feel of your website can be a lot of fun, but you must be careful not to go overboard. Here are some tips to keep in the back of your mind while you're editing your theme:

- Before you make any edits, go ahead and run `blogdown::serve_site()` in the R console within the RStudio Project. This will launch your website locally and will update automatically whenever edits are detected.

- Whenever you make a change, check the result on wide and narrow screens. You can do this with the browser on your desktop by maximizing the browser width (wide screen) and decreasing the width to mimic a mobile device (narrow screen).

- Try not to edit the theme's default *layout.* Instead, focus on colors, font, images, and content to reflect you personal style.

- After you make a change, carefully scrutinize the result and look for any unexpected consequences.

<!--chapter:end:curating-website-features.Rmd-->

# Creating content {#content}

This chapter provides some general guidance on creating content, such as blog posts, using R Markdown as well as plain Markdown. By this point, you should have [created a new blogdown site](#create-new-blogdown) with your [preferred theme](#select-hugo-theme).

In this chapter, we will continue to build on the website that was created in the previous chapter, which uses the [Anatole](https://themes.gohugo.io/anatole/) theme. To view the finished product, visit https://example-anatole.netlify.app/

## Creating posts

As the website developer, new content you create will typically be in the form of a post. Common types of posts are blog entries, tutorials, portfolio entries, project documentation, and so on. With blogdown, posts can either be [R Markdown](https://bookdown.org/yihui/rmarkdown/html-document.html) documents or plain [Markdown](https://www.markdownguide.org/getting-started/) documents. The only difference between the two is that R Markdown enables you to insert and execute server-side code (e.g. R code) and display the output in the post body in addition to plain Markdown syntax. Markdown, on the other hand, is static content that cannot execute server-side code.

The recommended way to add a blog post is with the RStudio Addin labeled "New post", as shown in this [example](https://i.imgur.com/S9dl4DZ.png). This addin will display a simple GUI for configuring the metadata for your new post including the post title, author, date, tags, content type and more. This [example post configuration](https://i.imgur.com/UEzRUnO.png) generates a R Markdown post destined for the `post` subdirectory. The archetype, filename, slug, and language are handled automatically and require no changes.

## Example R Markdown post

Before you create a new post, go ahead and run `blogdown::serve_site()` in the R console with your RStudio Project opened. This will launch your website locally and will update automatically whenever edits are saved. This is key for rapid development and iteration.

If you haven't already, leverage this [example post configuration](https://i.imgur.com/UEzRUnO.png) to create a new post R Markdown. The default document contains limited metadata and no body content. What to include is ultimately a matter of personal preference, but [this R Markdown post](https://github.com/dannymorris/anatole-site/blob/master/content/english/post/2021-04-22-writing-a-post-using-r-markdown/index.en.Rmd) provides a great starting point with some handy features including syntax highlighting, table of contents, and message/warning suppression. The published version of this post can be viewed here - https://example-anatole.netlify.app/post/2021-04-22-writing-a-post-using-r-markdown/

## Example Markdown post

Unlike R Markdown, plain Markdown documents render static content only (e.g. text, images, multimedia) and cannot execute server-side code. If your post does not need to execute code and render its ouput, then author the post using plain Markdown. To configure a plain Markdown post, follow this [example post configuration](https://i.imgur.com/UEzRUnO.png) but change the Format parameter to Markdown instead of R Markdown.

This [example Markdown post](https://raw.githubusercontent.com/dannymorris/anatole-site/master/content/english/post/2021-04-22-example-plain-markdown-post/index.en.md) should get you started. The published version of this post can be viewed here - https://example-anatole.netlify.app/post/2021-04-22-example-plain-markdown-post/

<!--chapter:end:creating-content.Rmd-->

# Deploying on Netlify {#deploy}

This chapter describes a simple, repeatable approach to putting your website on the internet. If you haven't already, complete the following prerequisites. 

- [Create your blogdown website](#create-site-with-theme) and (optionally) [add some content](#content)
- Install [Git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git)
- Sign up for [GitHub](https://github.com/)
- Sign up for [Netlify](https://app.netlify.com/)

## How it works

Hugo (the static site generator used by blogdown), GitHub, and Netlify are the three tools that make it incredibly simple to deploy your website to the internet. The main steps are to upload your website files to a remote GitHub repository, then create a new site in Netlify that points to your GitHub repository URL. Netlify will then do all of the heavy lifting of building and deploying your Hugo website to the internet. All of this can be done in a matter of minutes with just a few lines of code and a few clicks.

## Upload website files to GitHub

Once your website is working locally, the next steps are to create a remote GitHub repository for your website files, configure a local Git repository, and push your website files from your local Git repository to your remote GitHub repository. Follow these simple steps to make this happen:

1. Sign in to [GitHub](https://github.com/) and create a new repository by clicking "New" in the Repositories section. Configure the repository accordingly, then click "Create repository". [Example](https://i.imgur.com/LW2AhCr.png)

2. On your local machine, launch Git from the command line (e.g. Git Bash on Windows, Terminal on Mac/Linux) and run the following Git commands to sync a local Git repository with your newly created remote GitHub repository.  

```
# Change the directory to your website's root folder
cd path/to/your/website

# initialize local Git repo
git init

# add all of your website files to the local Git repo
git add --all

# commit your website files to the local Git repo
git commit -m "first commit"

# sync the local Git repo with the remote GitHub repo
# change your_username and your_repo to your GitHub username and repo name
git remote add origin https://github.com/your_username/your_repo.git

# push your files to GitHub
git push -u origin master
```

## Configure Netlify for deployment

Now that your website files are stored in GitHub, use Netlify to deploy your website. Netlify will deploy your website directly from your GitHub repository. Any time you push new or edited content to the GitHub repo, Netlify will automatically deploy a new version of your website. This is known as continuous deployment and is key to rapid iteration. Follow these steps to deploy your website on Netlify.

1. Log in to [Netlify](https://app.netlify.com/) and click "New site from Git".

2. Select GitHub as the Continuous Deployment provider, then choose your website's GitHub repository.

3. Leave the site settings alone and click "Deploy site" to publish your website. [Example](https://i.imgur.com/K4wmIJB.png)

4. After a few seconds, your webiste will be deployed on Netlify. To view your website, return to the Site Overview section and locate the default domain name generated by Netlify. [Example](https://i.imgur.com/8TV9NQ1.png). Default Netlify domains tend to look something like this - https://jovial-roentgen-f2a53c.netlify.app/. To change this, go to Site settings > Change site name.

## Using a custom domain name

Netlify's default domain names end with `.netlify.app`. If you don't care for this domain extension, you can purchase a custom domain for your website. Though several domain registrars exist, the simplest route is to purchase a domain name through Netlify. If you use a domain registrar other than Netlify (e.g. Google Domains), you will have to manually configure Domain Name Servers and Domain Name System settings. With Netlify, all of this is taken care of for you.

Follow the simple steps below to purchase a custom domain through Netlify:

1. Log in to [Netlify](https://app.netlify.com/), open your site, and click on "Domain settings". [Example](https://i.imgur.com/tux6of1.png).

2. Under Custom domains, click "Add custom domain".

3. Search for a domain name you like, then click "Verify" to determine if the domain is already owned or available for purchase. If available, confirm the purchase with a credit card and (optionally) set the domain name to auto-renew annually. [Example](https://i.imgur.com/y2s7wQR.png).

4. Enable IPv6 to reach areas of the world where connectivity via IPv4 is not possible. Do this by signing in to Netlify and navigating to Team overview > Domains, select your custom domain name, and click "Enable IPv6 on your domain". [Example](https://docs.netlify.com/domains-https/netlify-dns/#ipv6-traffic).


<!--chapter:end:deploy-on-netlify.Rmd-->

---
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r, include = F}
knitr::opts_chunk$set(
  echo = T, message = F, warning = F, eval=F
)
```

# Analyzing traffic with Google Analytics {#google-analytics}

This chapter shows you how to embed Google Analytics on your website to capture traffic from users. Additionally, this chapter will provide some guidance on how to analyze traffic using the R package [googleAnalyticsR](https://code.markedmondson.me/googleAnalyticsR/).

If you haven't already, complete the following prerequisites:

- [Create your blogdown website](#create-site-with-theme) and (optionally) [add some content](#content)
- [Deploy your site on Netlify](#deploy)
- [Sign up for Google Analytics](#create-accounts)

## How it works

Once you sign up for Google Analytics, the main objectives are to create an Account and a Property for your website domain name, then obtain a Tracking ID. This tracking code will go in the `config.yaml` file on your website, which in turn will instruct Google Analytics to collect the data on user traffic to your website.

## Setting up Google Analytics

Follow these steps to integrate Google Analytics into your website:

1. Sign in to Google Analytics and navigate to Admin > Create Account. [Example](https://i.imgur.com/QRTa07k.png)

2. Under Account setup, provide an appropriate name (e.g. personal-website) and configure the Account Data Sharing Settings to your liking. The defaults should be fine. Click "Next".

3. Under Property setup, provide an appropriate name (e.g. personal-website-property). 

4. Under Property setup, click on "Show advanced options" to create a Universal Analytics property. For the Website URL, provide the URL to your website. Click "Next". [Example](https://i.imgur.com/0jffYnF.png)

5. Under About you business, configure the settings to your liking. Click "Next" and accept the terms of service.

6. Locate the Tracking ID by returning back to the Admin console and selecting the Account and Property that were created in the previous steps. **Important:** Make sure you locate the Universal Analytics property that reads `property name (UA-XXXXXXX-X)` and not the GA4 property. Under Property, click on Tracking Info > Tracking Code ([example](https://i.imgur.com/GtiKfhq.png)). Copy the Tracking ID, which should appear in the form of UA-XXXXXXXXX-1. [Example](https://i.imgur.com/qcyaVBD.png)

7. Return to your RStudio Project where you are developing your website. Open the file `config.yaml` in the main directory and locate the `googleAnalytics:` parameter. Depending on the theme, this parameter may be written or spelled slightly differently. Paste your Google Analytics Tracking ID here, e.g. `googleAnalytics: 'UA-XXXXXXXXX-1'`. [Example](https://i.imgur.com/xgN24ah.png).

8. Push your changes to your GitHub repository to complete the Google Analytics integration.

## Analyzing traffic using googleAnalyticsR

[googleAnalyicsR](https://code.markedmondson.me/googleAnalyticsR/) is an R package for analyzing Google Analytics data stemming from traffic to your website.

### Install the package

```{r, eval = F}
install.packages("googleAnalyticsR", dependencies = TRUE)
```

### Authenticate your Google Analytics account

```{r}
library(googleAnalyticsR)

ga_auth(email="usc00@hotmail.com")
```

### Load packages for data analytics

```{r}
library(dplyr)
library(plotly)
library(DT)
library(leaflet)
```

### List your Google Analytics accounts and properties

```{r}
## get your accounts
ga_accounts <- ga_account_list()

ga_accounts
```

### Obtain viewId associated with your website

```{r}
view_id <- ga_accounts %>%
  filter(accountName == "abndistro", webPropertyName == "Abnormal Distributions") %>%
  pull(viewId)
```

### Daily count of website users

```{r}
daily_users <- google_analytics(
  viewId = view_id,
  date_range = c("2019-01-01", "2020-12-31"),
  metrics = "users",
  dimensions = "date"
) %>%
  as_tibble()

plot_ly(
  data = daily_users,
  x = ~date,
  y = ~users,
  mode = "lines"
) %>%
  layout(title = "Daily count of users who engaged with Abnormal Distributions")
```

### Users by device type

```{r}
users_by_device_type <- google_analytics(
  viewId = view_id,
  date_range = c("2019-01-01", "2020-12-31"),
  metrics = "users",
  dimensions = "deviceCategory"
) %>%
  as_tibble()

plot_ly(
  data = users_by_device_type,
  x = ~deviceCategory,
  y = ~users,
  type = "bar"
) %>%
  layout(title = "Users by device type")
```

### Page views by page

```{r}
page_views <- google_analytics(
  viewId = view_id,
  date_range = c("2019-01-01", "2020-12-31"),
  metrics = "pageviews",
  dimensions = "pageTitle"
) %>%
  as_tibble()

page_views %>%
  arrange(desc(pageviews)) %>%
  DT::datatable()
```

### Users by location

```{r}
users_location <- google_analytics(
  viewId = view_id,
  date_range = c("2019-01-01", "2020-12-31"),
  metrics = "users",
  dimensions = c("latitude", "longitude"),
  anti_sample = T
) %>%
  as_tibble() %>%
  mutate_at(vars(latitude, longitude), list(as.numeric))

users_location %>%
  leaflet() %>% 
  addTiles() %>%
  addCircleMarkers(
    lng = ~longitude,
    lat = ~latitude,
    radius = ~log(users),
    stroke = FALSE, 
    fillOpacity = 0.5
  )
```






<!--chapter:end:google-analytics.Rmd-->

# Extras

## Marketing your website

## Search engine optimization

<!--chapter:end:extras.Rmd-->

